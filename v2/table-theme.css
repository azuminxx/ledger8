/* =============================================================================
   🎨 統合台帳システム v2 - テーマ・色彩スタイル
   @description 台帳別色分け・ハイライトスタイル・ホバー効果
   @version 2.0.0
   ============================================================================= */

/* =============================================================================
   📊 テーブルハイライトスタイル - 一般的な変更管理配色
   ============================================================================= */

/* 🎯 行レベルの変更ハイライト（薄い緑色） */
/* .row-modified {
    background-color: #e8f5e8 !important; 
} */

/* 🎯 セルレベルの変更ハイライト（パステルイエロー） */
td.cell-modified {
    background-color: #FFFFB3; /* ソフトイエロー - 個別セルの変更を表す */
    border: 2px solid #C8E6C9; /* 落ち着いたセージグリーンのボーダーで視認性向上 */
    box-shadow: inset 0 0 0 1px #FFFFB3; /* 内側に背景色のボーダー */
    box-sizing: border-box;
}   

/* 🎯 セル内の入力要素は背景色のみ変更（ボーダーは通常と同じ） */
td.cell-modified input,
td.cell-modified select,
td.cell-modified textarea {
    background-color: #FFFFB3; /* ソフトイエローに変更 */
    border: 1px solid #ccc; /* 通常のinput要素と同じボーダー */
}

/* 🎯 行内のセルも同じ薄い緑色に統一 */
/* .row-modified td {
    background-color: #e8f5e8 !important;
} */

/* 🎯 行レベルとセルレベル両方の場合は、セルレベルを優先 */
/* パステルカラー対応 */
.row-modified .cell-modified {
    background-color: #FFFFB3 !important; /* ソフトイエローに変更 */
    border: 3px solid #C8E6C9 !important; /* 落ち着いたセージグリーンのボーダーで統一 */
    box-shadow: inset 0 0 0 1px #FFFFB3 !important; /* 内側に背景色のボーダー */
    box-sizing: border-box !important;
}

/* 🎯 行レベルとセルレベル両方の場合の入力要素 */
.row-modified .cell-modified input,
.row-modified .cell-modified select,
.row-modified .cell-modified textarea {
    background-color: #FFFFB3 !important; /* ソフトイエローに変更 */
    border: 1px solid #ccc !important; /* 通常のinput要素と同じボーダー */
}

/* 🔧 セル変更ハイライト：落ち着いたセージグリーンボーダーを最優先で適用 */
table .cell-modified,
table .row-modified .cell-modified,
table .row-separated.row-modified .cell-modified,
tr.row-editable td.cell-modified {
    border: 3px solid #C8E6C9 !important; /* 落ち着いたセージグリーンのボーダーで変更を強調 */
}

/* 🔧 編集可能セル内の入力要素：ボーダーは継承（親セルの緑ボーダーを維持） */
table .cell-modified input,
table .cell-modified select,
table .cell-modified textarea,
table .row-modified .cell-modified input,
table .row-modified .cell-modified select,
table .row-modified .cell-modified textarea,
table .row-separated.row-modified .cell-modified input,
table .row-separated.row-modified .cell-modified select,
table .row-separated.row-modified .cell-modified textarea {
    border: none !important; /* 入力要素自体のボーダーは無し（親セルのボーダーを使用） */
    outline: none !important;
    box-shadow: none !important;
}

/* 🔧 フォーカス時も通常のinput要素と同じスタイル */
table .cell-modified input:focus,
table .cell-modified select:focus,
table .cell-modified textarea:focus,
table .row-modified .cell-modified input:focus,
table .row-modified .cell-modified select:focus,
table .row-modified .cell-modified textarea:focus,
table .row-separated.row-modified .cell-modified input:focus,
table .row-separated.row-modified .cell-modified select:focus,
table .row-separated.row-modified .cell-modified textarea:focus {
    border: 1px solid #ccc !important; /* フォーカス時も通常と同じボーダー */
    outline: none !important;
}

/* =============================================================================
   📋 テーブル基本スタイル - プロフェッショナルデザイン
   ============================================================================= */

#my-table tbody tr:hover:not(.table-header){
    /* 統一ボーダー効果 - 落ち着いたセージグリーンに変更 */
    box-shadow: 0 0 0 2px #C8E6C9 !important;
    /* セル専用ホバー効果を全て無効化 */
    background: inherit !important;
    border-color: inherit !important;
    transform: none !important;
    color: inherit !important;
    font-weight: inherit !important;
}

/* 🎨 分離された行（特別な背景色を維持） - パステルカラー対応 */
.row-separated {
    background-color: #FFFFB3; /* ソフトイエローに変更 */
}

/* 🎨 変更ハイライトは分離ハイライトより優先される */
/* .row-separated.row-modified {
    background-color: #e8f5e8;
} */

/* .row-separated.row-modified td {
    background-color: #e8f5e8;
} */

/* 🎯 ★ 重要：分離行でもセルレベルハイライトを優先させる */
.row-separated.row-modified .cell-modified,
.row-separated.row-modified td.cell-modified {
    background-color: #FFFFB3 !important; /* ソフトイエローを優先 */
    border: 2px solid #C8E6C9 !important; /* 落ち着いたセージグリーンのボーダーで統一 */
    box-shadow: inset 0 0 0 1px #FFFFB3 !important; /* 内側に背景色のボーダー */
}

/* 🎯 ★ 分離行のセルレベルハイライト内の入力要素 */
.row-separated.row-modified .cell-modified input,
.row-separated.row-modified .cell-modified select,
.row-separated.row-modified .cell-modified textarea,
.row-separated.row-modified td.cell-modified input,
.row-separated.row-modified td.cell-modified select,
.row-separated.row-modified td.cell-modified textarea {
    background-color: #FFFFB3 !important; /* ソフトイエローを優先 */
    border: 1px solid #ccc !important; /* 通常のinput要素と同じボーダー */
    outline: none !important; /* アウトラインを削除 */
}

/* 🎯 ★ 分離行のセルレベルハイライトのフォーカス時制御 */
.row-separated.row-modified .cell-modified input:focus,
.row-separated.row-modified .cell-modified select:focus,
.row-separated.row-modified .cell-modified textarea:focus,
.row-separated.row-modified td.cell-modified input:focus,
.row-separated.row-modified td.cell-modified select:focus,
.row-separated.row-modified td.cell-modified textarea:focus {
    border: 1px solid #ccc !important; /* フォーカス時も通常と同じボーダー */
    outline: none !important; /* ブラウザデフォルトのアウトラインを無効化 */
}

/* =============================================================================
   🎨 台帳別色分け・フィールド特性
   ============================================================================= */

/* 🎨 台帳別色分け - 背景色と左ボーダーで統合 */
/* この部分は下部の台帳別セル背景色セクションに統合されました */

/* 🎨 主キーフィールド - 軽量化 */
/* td[data-is-primary-key="true"] {
    font-weight: 600;
    background-color: rgba(255,245,157,0.1);
} */

/* 🎨 レコードIDフィールド - 軽量化 */
td[data-is-record-id="true"] {
    font-family: 'Courier New', monospace;
    font-size: 10px;
    color: #666;
    text-align: center;
}

/* =============================================================================
   🎨 台帳別ヘッダー背景色
   ============================================================================= */

/* 🎨 基本ヘッダーセル - v2/table-base.cssで定義済みのため削除 */

/* 🎨 ヘッダーラベル - パステルカラー用に調整 */
.header-label {
    font-weight: bold;
    margin-bottom: 1px;
    text-align: center;
    line-height: 1.2;
    font-size: 11px;
    color: #2C3E50; /* ダークグレー - パステル背景に適した文字色 */
    text-shadow: none; /* パステル背景では影不要 */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* 🎨 台帳別ヘッダー背景色 - パステルカラー */
.header-seat {
    background: #C8E6C9; /* 落ち着いたセージグリーン - SEAT台帳 */
}

.header-pc {
    background: #B3D9FF; /* ソフトブルー - PC台帳 */
}

.header-ext {
    background: #FFB3B3; /* ソフトピンク - EXT台帳 */
}

.header-user {
    background: #FFE4B3; /* ソフトオレンジ - USER台帳 */
}

.header-common {
    background: #B3FFE6; /* ソフトミント - 共通フィールド */
}

/* =============================================================================
   🎨 縞模様とベース背景色
   ============================================================================= */

/* 🎨 基本背景色 */
.bg-white {
    background-color: #ffffff;
}

.bg-light-gray {
    background-color: #f5f5f5;
}

.bg-medium-gray {
    background-color: #f0f0f0;
}

/* 🎨 特殊背景色 - パステルカラー対応 */
.bg-highlight-yellow {
    background-color: #FFFFB3; /* ソフトイエローに変更 */
}

.bg-success-light {
    background-color: #C8E6C9; /* 落ち着いたセージグリーンに変更 */
}

.bg-modified-light {
    background-color: #FFE4B3; /* ソフトオレンジに変更 */
}

/* =============================================================================
   🎨 特殊セルスタイル
   ============================================================================= */

/* 🔗 行番号セルスタイル - エレガントデザイン */
.row-number-cell {
    text-align: center;
}

/* ✅ 変更チェックボックスセル - 軽量化・パステルボーダー */
.modification-checkbox-cell {
    text-align: center;
    vertical-align: middle;
    border: 1px solid #F0F8FF; /* パステルボーダー色に変更 */
    padding: 4px;
    user-select: none;
    width: 30px;
    min-width: 30px;
    max-width: 30px;
    height: 28px;
    max-height: 28px;
    box-sizing: border-box;
    overflow: hidden;
    line-height: 20px;
}

/* ✅ チェックボックス自体のスタイル */
.modification-checkbox {
    margin: 0;
    padding: 0;
    width: 14px;
    height: 14px;
    cursor: pointer;
    vertical-align: middle;
    position: relative;
    top: 1px;
    box-sizing: border-box;
}

/* =============================================================================
   🎯 隠し・その他状態スタイル
   ============================================================================= */

/* 🎯 隠し行スタイル - 使用頻度が低いためコメントアウト */
/* .row-hidden-preview {
    background-color: #f0f0f0;
} */

/* 🎯 隠し行のテキスト色 - 使用頻度が低いためコメントアウト */
/* .text-muted {
    color: #757575;
} */

/* 🎯 ヘッダー編集モード - 使用頻度が低いためコメントアウト */
/* .header-editing {
    background-color: #f0f0f0;
} */

/* 🎯 リサイズハンドル - パステルカラー対応 */
.resize-handle-active {
    background-color: rgba(179, 217, 255, 0.4); /* ソフトブルーに変更 */
}

.resize-handle-inactive {
    background-color: transparent;
}

/* =============================================================================
   🎨 台帳別セル背景色（薄い色）
   ============================================================================= */

/* 🌿 SEAT台帳フィールド - 落ち着いたセージグリーン */
td[data-source-app="SEAT"] {
    background-color: rgba(200, 230, 201, 0.15) !important; /* 薄い落ち着いたグリーン背景 */
    border-left: 2px solid #C8E6C9; /* 左ボーダーで台帳識別 */
}

/* 💙 PC台帳フィールド - ソフトブルー */
td[data-source-app="PC"] {
    background-color: rgba(179, 217, 255, 0.15) !important; /* 薄いソフトブルー背景 */
    border-left: 2px solid #B3D9FF; /* 左ボーダーで台帳識別 */
}

/* 💗 EXT台帳フィールド - ソフトピンク */
td[data-source-app="EXT"] {
    background-color: rgba(255, 179, 179, 0.15) !important; /* 薄いソフトピンク背景 */
    border-left: 2px solid #FFB3B3; /* 左ボーダーで台帳識別 */
}

/* 🧡 USER台帳フィールド - ソフトオレンジ */
td[data-source-app="USER"] {
    background-color: rgba(255, 228, 179, 0.15) !important; /* 薄いソフトオレンジ背景 */
    border-left: 2px solid #FFE4B3; /* 左ボーダーで台帳識別 */
}

/* 🌿 共通フィールド - ソフトミント */
td[data-source-app="COMMON"] {
    background-color: rgba(179, 255, 230, 0.1) !important; /* 薄いソフトミント背景 */
    border-left: 2px solid #B3FFE6; /* 左ボーダーで台帳識別 */
}

/* =============================================================================
   🎨 編集モード時の背景色調整
   ============================================================================= */

/* 編集モード時の入力要素の背景色を微調整 - パステルカラー対応 */
.edit-mode-active td[data-source-app="SEAT"] input,
.edit-mode-active td[data-source-app="SEAT"] select,
.edit-mode-active td[data-source-app="SEAT"] textarea {
    background-color: rgba(255, 255, 255, 0.9) !important;
    border: 1px solid rgba(200, 230, 201, 0.5) !important;
}

.edit-mode-active td[data-source-app="PC"] input,
.edit-mode-active td[data-source-app="PC"] select,
.edit-mode-active td[data-source-app="PC"] textarea {
    background-color: rgba(255, 255, 255, 0.9) !important;
    border: 1px solid rgba(179, 217, 255, 0.5) !important;
}

.edit-mode-active td[data-source-app="EXT"] input,
.edit-mode-active td[data-source-app="EXT"] select,
.edit-mode-active td[data-source-app="EXT"] textarea {
    background-color: rgba(255, 255, 255, 0.9) !important;
    border: 1px solid rgba(255, 179, 179, 0.5) !important;
}

.edit-mode-active td[data-source-app="USER"] input,
.edit-mode-active td[data-source-app="USER"] select,
.edit-mode-active td[data-source-app="USER"] textarea {
    background-color: rgba(255, 255, 255, 0.9) !important;
    border: 1px solid rgba(255, 228, 179, 0.5) !important;
}

.edit-mode-active td[data-source-app="COMMON"] input,
.edit-mode-active td[data-source-app="COMMON"] select,
.edit-mode-active td[data-source-app="COMMON"] textarea {
    background-color: rgba(255, 255, 255, 0.9) !important;
    border: 1px solid rgba(179, 255, 230, 0.5) !important;
}

/* =============================================================================
   🎨 ホバー効果の調整
   ============================================================================= */

/* ホバー時の背景色を台帳色に合わせて調整 */
/* td[data-source-app="SEAT"]:hover {
    background-color: rgba(39, 174, 96, 0.12) !important;
}

td[data-source-app="PC"]:hover {
    background-color: rgba(52, 152, 219, 0.12) !important;
}

td[data-source-app="EXT"]:hover {
    background-color: rgba(228, 76, 60, 0.12) !important;
}

td[data-source-app="USER"]:hover {
    background-color: rgba(243, 156, 18, 0.12) !important;
}

td[data-source-app="COMMON"]:hover {
    background-color: rgba(52, 73, 94, 0.08) !important;
} */

/* =============================================================================
   🎨 変更セルの台帳別色分け
   ============================================================================= */

/* 変更されたセルも台帳色に合わせて調整 */
/* td[data-source-app="SEAT"].cell-modified {
    background-color: rgba(39, 174, 96, 0.15) !important;
    border: 1px solid rgba(39, 174, 96, 0.4) !important;
}

td[data-source-app="PC"].cell-modified {
    background-color: rgba(52, 152, 219, 0.15) !important;
    border: 1px solid rgba(52, 152, 219, 0.4) !important;
}

td[data-source-app="EXT"].cell-modified {
    background-color: rgba(228, 76, 60, 0.15) !important;
    border: 1px solid rgba(228, 76, 60, 0.4) !important;
}

td[data-source-app="USER"].cell-modified {
    background-color: rgba(243, 156, 18, 0.15) !important;
    border: 1px solid rgba(243, 156, 18, 0.4) !important;
}

td[data-source-app="COMMON"].cell-modified {
    background-color: rgba(52, 73, 94, 0.12) !important;
    border: 1px solid rgba(52, 73, 94, 0.4) !important;
} */

/* =============================================================================
   🎯 .cell-unlinked-ledger の優先順位を最高位に設定
   ============================================================================= */

/* 台帳別色分けより優先して適用されるようにより詳細度の高いセレクタを使用 */
td[data-source-app].cell-unlinked-ledger,
td.cell-unlinked-ledger {
    background-color: #C3C3C3  !important;
}

/* ホバー時も灰色を維持 */
td[data-source-app].cell-unlinked-ledger:hover,
td.cell-unlinked-ledger:hover {
    background-color: #C3C3C3 !important; /* 少し濃い灰色 */
}

/* 変更されたセルでも灰色を維持 */
td[data-source-app].cell-unlinked-ledger.cell-modified,
td.cell-unlinked-ledger.cell-modified {
    background-color: #C3C3C3 !important; /* 変更時は少し明るい灰色 */
}

/* 編集モード時の入力要素も灰色系に */
.edit-mode-active td[data-source-app].cell-unlinked-ledger input,
.edit-mode-active td[data-source-app].cell-unlinked-ledger select,
.edit-mode-active td[data-source-app].cell-unlinked-ledger textarea,
.edit-mode-active td.cell-unlinked-ledger input,
.edit-mode-active td.cell-unlinked-ledger select,
.edit-mode-active td.cell-unlinked-ledger textarea {
    background-color: rgba(255, 255, 255, 0.9) !important;
} 